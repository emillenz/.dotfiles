" ---
" title:  minimalist vi config file
" author: emil lenz
" email:  emilllenz@protonmail.com
" date:   [2024-12-14]
" ---

set nocompatible
set showcmd
set hidden
set autoindent
set autowriteall
set ignorecase
set smartcase
set incsearch
set smarttab
set confirm
set backupdir=~/.vim//,/tmp//
set undodir=~/.vim//,/tmp//
set directory=~/.vim//,/tmp//
set undofile
set path=**
set shortmess=a
set completeopt=
set wildignore=*.o,.*
set wildmenu
set wildmode=longest:full
set wildignorecase
set gdefault
set autoread
set relativenumber
set noruler
set noshowmode
set laststatus=0
set fillchars=eob:\ ,lastline:\ ,
set timeoutlen=1000
set ttimeoutlen=0
set formatoptions+=jn
set iskeyword+=-
" syntax off

autocmd BufWritePre * :%s/\s\+$//e " rm trailing whitespace

nnoremap Y y$
nnoremap _ "_d
inoremap {<cr> {<cr>}<esc>O<tab>

nnoremap go mzo<esc>`z
nnoremap gO mzO<esc>`z

nnoremap <c-d> <c-d>zz
nnoremap <c-u> <c-u>zz

vnoremap > >gv
vnoremap < <gv

nnoremap Q @q
vnoremap Q :normal @q<cr>

onoremap { V{
onoremap } V}

vnoremap sb <esc>a)<esc>`<i(<esc>
vnoremap sB <esc>a}<esc>`<i{<esc>
vnoremap s[ <esc>a]<esc>`<i[<esc>
vnoremap s" <esc>a"<esc>`<i"<esc>

nnoremap dsb mzva(<esc>"_x`<"_x`z
nnoremap dsB mzva{<esc>"_xgvo<esc>"_x`z
nnoremap ds[ mzva[<esc>"_xgvo<esc>"_x`z
nnoremap ds" mzva"<esc>"_xgvol<esc>"_x`z
