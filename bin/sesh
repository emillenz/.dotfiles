#!/usr/bin/env bash
IFS=$'\n'

# ---
# title: tmux session menu
# author: emil lenz
# email: emillenz@protonmail.com
# date: [2025-04-10]
# ---

dir=${1:-$(pwd)}
cmd=${2:-$EDITOR}
name=$(basename $dir | tr '[:upper:]' '[:lower:]')

tmux has-session -t $name &>/dev/null || tmux new-session -d -c $dir -s $name $cmd
([ -n $TMUX ] && tmux switch-client -t $name) || tmux attach-session -t $name
